.o_form_view .o_field_x2many_2d_matrix {
    .o_list_table > tfoot > tr > th {
        position: sticky;
        bottom: 0;
        text-align: center;
        background-color: #f7f4f4;
        border-top: 0 !important;
        box-shadow: 0 -1px 0 #000;
    }
    
    .o_list_table > tfoot > tr > th:not(:first-child)::after {
        content: " ₫";
    }
    
    /* Dark mode theo system, TRỪ KHI đã chọn light rõ ràng */
    html:not(.o-color-scheme-light) body &,
    html:not(.o-color-scheme-light) & {
        @media (prefers-color-scheme: dark) {
        .o_list_table {
            background-color: #2b2b2b !important;
            color: #ffffff !important;
        }
        
        .o_list_table thead th {
            background-color: #3a3a3a !important;
            color: #ffffff !important;
            border-color: #555555 !important;
        }
        
        .o_list_table tbody td {
            background-color: #2b2b2b !important;
            color: #ffffff !important;
            border-color: #555555 !important;
        }
        
        
        
        .o_list_table tfoot th {
            background-color: #1a1a1a !important;
            color: #ffffff !important;
            border-color: #555555 !important;
            box-shadow: 0 -1px 0 #444;
        }
        }
    }

    /* Explicit hook via JS class when Odoo stores color_scheme=dark */
    html.o-color-scheme-dark &, body.o-color-scheme-dark & {
        .o_list_table {
            background-color: #2b2b2b !important;
            color: #ffffff !important;
        }

        .o_list_table thead th {
            background-color: #3a3a3a !important;
            color: #ffffff !important;
            border-color: #555555 !important;
        }

        .o_list_table tbody td {
            background-color: #2b2b2b !important;
            color: #ffffff !important;
            border-color: #555555 !important;
        }

        

        .o_list_table tfoot th {
            background-color: #1a1a1a !important;
            color: #ffffff !important;
            border-color: #555555 !important;
            box-shadow: 0 -1px 0 #444;
        }
    }

    /* Khi chọn light rõ ràng, đảm bảo màu sáng (override mọi rule dark) */
    html.o-color-scheme-light &, body.o-color-scheme-light & {
        .o_list_table {
            background-color: #ffffff !important;
            color: inherit !important;
        }

        .o_list_table thead th {
            background-color: #f9f9f9 !important;
            color: inherit !important;
            border-color: #dee2e6 !important;
        }

        .o_list_table tbody td {
            background-color: #ffffff !important;
            color: inherit !important;
            border-color: #dee2e6 !important;
        }

        

        .o_list_table tfoot th {
            background-color: #f7f4f4 !important;
            color: inherit !important;
            border-color: #dee2e6 !important;
            box-shadow: 0 -1px 0 #000;
        }
    }
}